{"version":3,"names":["React","createRef","useEffect","useRef","useState","ValidationForPayment","ErrorOnParams","Linking","Platform","View","IMPConst","IamportUrl","WebView","viewStyles","Loading","Payment","_ref","userCode","tierCode","data","loading","callback","webviewSource","setWebviewSource","html","WEBVIEW_SOURCE_HTML","isWebViewLoaded","setIsWebViewLoaded","showLoading","setShowLoading","webview","smilepayRef","redirectUrl","M_REDIRECT_URL","m_redirect_url","undefined","trim","pg","startsWith","OS","current","baseUrl","SMILEPAY_BASE_URL","handleOpenURL","event","pay_method","iamportUrl","url","_data$app_scheme","_webview$current","queryParameters","getQuery","scheme","niceTransRedirectionUrl","app_scheme","toLowerCase","callbackparam1","injectJavaScript","getStringifiedQuery","subscription","addEventListener","cleanup","remove","removeLoadingNeeded","isIframeWayPayment","customer_uid","validation","getIsValid","loadingContainer","webViewContainer","createElement","Fragment","containerStyle","ref","source","mixedContentMode","onLoadEnd","_webview$current4","popup","_webview$current2","_webview$current3","JSON","stringify","onMessage","e","encoded","encodeURIComponent","nativeEvent","decoded","decodeURIComponent","response","parse","originWhitelist","sharedCookiesEnabled","onShouldStartLoadWithRequest","request","isPaymentOver","getInicisTransQuery","isAppUrl","launchApp","catch","code","message","imp_success","error_code","error_msg","isIframeLoaded","style","getMessage"],"sourceRoot":"../../../../src","sources":["components/Payment/index.tsx"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAErE,OAAOC,oBAAoB,MAAM,kCAAkC;AACnE,OAAOC,aAAa,MAAM,kBAAkB;AAC5C,SAASC,OAAO,EAAEC,QAAQ,EAAEC,IAAI,QAAQ,cAAc;AACtD,SAASC,QAAQ,QAAQ,iBAAiB;AAC1C,OAAOC,UAAU,MAAM,wBAAwB;AAC/C,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,OAAO,MAAM,YAAY;AAWhC,SAASC,OAAOA,CAAAC,IAAA,EAAyD;EAAA,IAAxD;IAAEC,QAAQ;IAAEC,QAAQ;IAAEC,IAAI;IAAEC,OAAO;IAAEC;EAAgB,CAAC,GAAAL,IAAA;EACrE,MAAM,CAACM,aAAa,EAAEC,gBAAgB,CAAC,GAAGnB,QAAQ,CAAgB;IAChEoB,IAAI,EAAEd,QAAQ,CAACe;EACjB,CAAC,CAAC;EACF,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACwB,WAAW,EAAEC,cAAc,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM0B,OAAO,gBAAG7B,SAAS,CAAU,CAAC;EACpC,MAAM8B,WAAW,GAAG5B,MAAM,CAAC,KAAK,CAAC;EACjC,IAAI6B,WAAW,GAAGtB,QAAQ,CAACuB,cAAc;EACzC,IAAId,IAAI,CAACe,cAAc,KAAKC,SAAS,IAAIhB,IAAI,CAACe,cAAc,CAACE,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;IAC1EJ,WAAW,GAAGb,IAAI,CAACe,cAAc;EACnC,CAAC,MAAM;IACLf,IAAI,CAACe,cAAc,GAAGF,WAAW;EACnC;EAEA9B,SAAS,CAAC,MAAM;IACd,MAAM;MAAEmC;IAAG,CAAC,GAAGlB,IAAI;IACnB,IACEkB,EAAE,CAACC,UAAU,CAAC,UAAU,CAAC,IACzB9B,QAAQ,CAAC+B,EAAE,KAAK,KAAK,IACrB,CAACR,WAAW,CAACS,OAAO,EACpB;MACA;AACN;AACA;AACA;AACA;MACMjB,gBAAgB,CAAC;QACf,GAAGD,aAAa;QAChBmB,OAAO,EAAE/B,QAAQ,CAACgC;MACpB,CAAC,CAAC;MACFX,WAAW,CAACS,OAAO,GAAG,IAAI;IAC5B;EACF,CAAC,EAAE,CAACrB,IAAI,EAAEG,aAAa,CAAC,CAAC;EAEzBpB,SAAS,CAAC,MAAM;IACd,MAAMyC,aAAa,GAAIC,KAAsB,IAAK;MAChD,MAAM;QAAEP,EAAE;QAAEQ;MAAW,CAAC,GAAG1B,IAAI;MAC/B,IAAI0B,UAAU,KAAK,OAAO,EAAE;QAC1B,MAAMC,UAAU,GAAG,IAAInC,UAAU,CAACiC,KAAK,CAACG,GAAG,CAAC;;QAE5C;QACA,IAAIV,EAAE,CAACC,UAAU,CAAC,MAAM,CAAC,EAAE;UAAA,IAAAU,gBAAA,EAAAC,gBAAA;UACzB,MAAMC,eAAe,GAAGJ,UAAU,CAACK,QAAQ,CAAC,CAAC;UAC7C,MAAMC,MAAM,GAAGN,UAAU,CAACM,MAAM;UAChC,IAAIC,uBAAuB;UAC3B,IAAID,MAAM,OAAAJ,gBAAA,GAAK7B,IAAI,CAACmC,UAAU,cAAAN,gBAAA,uBAAfA,gBAAA,CAAiBO,WAAW,CAAC,CAAC,GAAE;YAC7C,IAAIL,eAAe,CAACM,cAAc,IAAI,IAAI,EAAE;cAC1CH,uBAAuB,GAAGH,eAAe,CAACM,cAAc;YAC1D;UACF;UACA,CAAAP,gBAAA,GAAAnB,OAAO,CAACU,OAAO,cAAAS,gBAAA,eAAfA,gBAAA,CAAiBQ,gBAAgB,CAAE;AAC7C,sCAAsCJ,uBAAwB,IAAGP,UAAU,CAACY,mBAAmB,CAAC,CAAE;AAClG,WAAW,CAAC;QACJ;MACF;IACF,CAAC;IACD,MAAMC,YAAY,GAAGpD,OAAO,CAACqD,gBAAgB,CAAC,KAAK,EAAEjB,aAAa,CAAC;IACnE,OAAO,SAASkB,OAAOA,CAAA,EAAG;MACxBF,YAAY,CAACG,MAAM,CAAC,CAAC;IACvB,CAAC;EACH,CAAC,EAAE,CAAC3C,IAAI,EAAEa,WAAW,EAAEF,OAAO,CAAC,CAAC;EAEhC,MAAMiC,mBAAmB,GAAGA,CAAA,KAAM;IAChC,IAAInC,WAAW,IAAIpB,QAAQ,CAAC+B,EAAE,KAAK,SAAS,EAAE;MAC5C;MACA,IAAIb,eAAe,EAAE;QACnB;QACA,OAAO,IAAI;MACb;MACA,OAAOsC,kBAAkB,CAAC,CAAC;IAC7B;IACA;IACA,OAAO,KAAK;EACd,CAAC;EAED,MAAMA,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,MAAM;MAAE3B,EAAE;MAAEQ,UAAU;MAAEoB;IAAa,CAAC,GAAG9C,IAAI;IAC7C,IAAIkB,EAAE,CAACC,UAAU,CAAC,cAAc,CAAC,IAAI2B,YAAY,EAAE;MACjD;MACA,OAAO,IAAI;IACb;IACA,IAAI5B,EAAE,CAACC,UAAU,CAAC,WAAW,CAAC,IAAIO,UAAU,KAAK,OAAO,EAAE;MACxD;MACA,OAAO,IAAI;IACb;IACA,OACER,EAAE,CAACC,UAAU,CAAC,OAAO,CAAC,IACtBD,EAAE,CAACC,UAAU,CAAC,YAAY,CAAC,IAC3BD,EAAE,CAACC,UAAU,CAAC,UAAU,CAAC,IACzBD,EAAE,CAACC,UAAU,CAAC,OAAO,CAAC,IACtBD,EAAE,CAACC,UAAU,CAAC,YAAY,CAAC,IAC3BD,EAAE,CAACC,UAAU,CAAC,YAAY,CAAC;EAE/B,CAAC;EAED,MAAM4B,UAAU,GAAG,IAAI7D,oBAAoB,CACzCY,QAAQ,EACRG,OAAO,EACPC,QAAQ,EACRF,IACF,CAAC;EACD,IAAI+C,UAAU,CAACC,UAAU,CAAC,CAAC,EAAE;IAC3B,MAAM;MAAEC,gBAAgB;MAAEC;IAAiB,CAAC,GAAGxD,UAAU;IACzD,oBACEb,KAAA,CAAAsE,aAAA,CAAAtE,KAAA,CAAAuE,QAAA,qBACEvE,KAAA,CAAAsE,aAAA,CAAC1D,OAAO;MACN4D,cAAc,EAAEH,gBAAiB;MACjCI,GAAG,EAAE3C,OAAQ;MACb4C,MAAM,EAAEpD,aAAc;MACtBqD,gBAAgB,EAAE,QAAS;MAC3BC,SAAS,EAAEA,CAAA,KAAM;QACf,IAAI,CAAClD,eAAe,EAAE;UAAA,IAAAmD,iBAAA;UACpB,IAAI1D,IAAI,CAACkB,EAAE,CAACC,UAAU,CAAC,SAAS,CAAC,EAAE;YACjCnB,IAAI,CAAC2D,KAAK,GAAG,KAAK;UACpB;UAEA,IAAI5D,QAAQ,EAAE;YAAA,IAAA6D,iBAAA;YACZ,CAAAA,iBAAA,GAAAjD,OAAO,CAACU,OAAO,cAAAuC,iBAAA,eAAfA,iBAAA,CAAiBtB,gBAAgB,CAAE;AACnD,0DAA0DxC,QAAS,OAAMC,QAAS;AAClF,mBAAmB,CAAC;UACN,CAAC,MAAM;YAAA,IAAA8D,iBAAA;YACL,CAAAA,iBAAA,GAAAlD,OAAO,CAACU,OAAO,cAAAwC,iBAAA,eAAfA,iBAAA,CAAiBvB,gBAAgB,CAAE;AACnD,wDAAwDxC,QAAS;AACjE,mBAAmB,CAAC;UACN;UACA,CAAA4D,iBAAA,GAAA/C,OAAO,CAACU,OAAO,cAAAqC,iBAAA,eAAfA,iBAAA,CAAiBpB,gBAAgB,CAAE;AACjD;AACA,sCAAsCwB,IAAI,CAACC,SAAS,CAC9B/D,IACF,CAAE;AACtB;AACA;AACA;AACA,iBAAiB,CAAC;UACJQ,kBAAkB,CAAC,IAAI,CAAC;QAC1B;;QAEA;QACA,IAAIoC,mBAAmB,CAAC,CAAC,EAAE;UACzBlC,cAAc,CAAC,KAAK,CAAC;QACvB;MACF;MACA;MACAsD,SAAS,EAAGC,CAAC,IAAK;QAChB;AACZ;AACA;AACA;AACA;AACA;QACY,MAAMC,OAAO,GAAGC,kBAAkB,CAACF,CAAC,CAACG,WAAW,CAACpE,IAAI,CAAC;QACtD,MAAMqE,OAAO,GAAGC,kBAAkB,CAACJ,OAAO,CAAC;QAC3C,MAAMK,QAAQ,GAAGT,IAAI,CAACU,KAAK,CAACH,OAAO,CAAC;QACpC,IAAI,OAAOnE,QAAQ,KAAK,UAAU,EAAE;UAClCA,QAAQ,CAACqE,QAAQ,CAAC;QACpB;MACF,CAAE;MACFE,eAAe,EAAE,CAAC,GAAG,CAAE,CAAC;MAAA;MACxBC,oBAAoB,EAAE,IAAK;MAC3BC,4BAA4B,EAAGC,OAAO,IAAK;QACzC,MAAM;UAAEhD;QAAI,CAAC,GAAGgD,OAAO;QACvB;QACA,MAAMjD,UAAU,GAAG,IAAInC,UAAU,CAACoC,GAAG,CAAC;QAEtC,IAAID,UAAU,CAACkD,aAAa,CAAChE,WAAW,EAAEb,IAAI,CAAC,EAAE;UAC/C,IAAI,OAAOE,QAAQ,KAAK,UAAU,EAAE;YAClC,IACEF,IAAI,CAACkB,EAAE,CAACC,UAAU,CAAC,cAAc,CAAC,IAClCnB,IAAI,CAAC0B,UAAU,KAAK,OAAO,IAC3BrC,QAAQ,CAAC+B,EAAE,KAAK,KAAK,EACrB;cACAlB,QAAQ,CAACyB,UAAU,CAACmD,mBAAmB,CAACjE,WAAW,CAAC,CAAC;YACvD,CAAC,MAAM;cACLX,QAAQ,CAACyB,UAAU,CAACK,QAAQ,CAAC,CAAC,CAAC;YACjC;UACF;UACA,OAAO,KAAK;QACd;QAEA,IAAIL,UAAU,CAACoD,QAAQ,CAAC,CAAC,EAAE;UACzB;UACApD,UAAU,CAACqD,SAAS,CAAC,CAAC,CAACC,KAAK,CAAEhB,CAAC,IAAK;YAClC,MAAM;cAAEiB,IAAI;cAAEC;YAAQ,CAAC,GAAGlB,CAAC;YAC3B/D,QAAQ,CAAC;cACPkF,WAAW,EAAE,KAAK;cAClBC,UAAU,EAAEH,IAAI;cAChBI,SAAS,EAAEH;YACb,CAAC,CAAC;UACJ,CAAC,CAAC;UAEF,OAAO,KAAK;QACd;QACA,IAAI5E,eAAe,IAAIE,WAAW,IAAIkB,UAAU,CAAC4D,cAAc,CAAC,CAAC,EAAE;UACjE;AACd;AACA;AACA;AACA;UACc7E,cAAc,CAAC,KAAK,CAAC;QACvB;QACA,OAAO,IAAI;MACb;IAAE,CACH,CAAC,EACDD,WAAW,iBACV5B,KAAA,CAAAsE,aAAA,CAAC7D,IAAI;MAACkG,KAAK,EAAEvC;IAAiB,GAAEhD,OAAO,iBAAIpB,KAAA,CAAAsE,aAAA,CAACxD,OAAO,MAAE,CAAQ,CAE/D,CAAC;EAEP;EAEA,oBAAOd,KAAA,CAAAsE,aAAA,CAAChE,aAAa;IAACgG,OAAO,EAAEpC,UAAU,CAAC0C,UAAU,CAAC;EAAE,CAAE,CAAC;AAC5D;AAEA,eAAe7F,OAAO"}