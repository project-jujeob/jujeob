{"version":3,"names":["_react","_interopRequireWildcard","require","_ValidationForPayment","_interopRequireDefault","_ErrorOnParams","_reactNative","_constants","_IamportUrl","_reactNativeWebview","_styles","_Loading","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","Payment","_ref","userCode","tierCode","data","loading","callback","webviewSource","setWebviewSource","useState","html","IMPConst","WEBVIEW_SOURCE_HTML","isWebViewLoaded","setIsWebViewLoaded","showLoading","setShowLoading","webview","createRef","smilepayRef","useRef","redirectUrl","M_REDIRECT_URL","m_redirect_url","undefined","trim","useEffect","pg","startsWith","Platform","OS","current","baseUrl","SMILEPAY_BASE_URL","handleOpenURL","event","pay_method","iamportUrl","IamportUrl","url","_data$app_scheme","_webview$current","queryParameters","getQuery","scheme","niceTransRedirectionUrl","app_scheme","toLowerCase","callbackparam1","injectJavaScript","getStringifiedQuery","subscription","Linking","addEventListener","cleanup","remove","removeLoadingNeeded","isIframeWayPayment","customer_uid","validation","ValidationForPayment","getIsValid","loadingContainer","webViewContainer","viewStyles","createElement","Fragment","containerStyle","ref","source","mixedContentMode","onLoadEnd","_webview$current4","popup","_webview$current2","_webview$current3","JSON","stringify","onMessage","e","encoded","encodeURIComponent","nativeEvent","decoded","decodeURIComponent","response","parse","originWhitelist","sharedCookiesEnabled","onShouldStartLoadWithRequest","request","isPaymentOver","getInicisTransQuery","isAppUrl","launchApp","catch","code","message","imp_success","error_code","error_msg","isIframeLoaded","View","style","getMessage","_default","exports"],"sourceRoot":"../../../../src","sources":["components/Payment/index.tsx"],"mappings":"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"}